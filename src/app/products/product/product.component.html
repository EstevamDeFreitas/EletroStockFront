<div class="container w-75 h-100">
  <ng-container>
    <div class="d-flex justify-content-end">
      <button class="btn btn-success" (click)="newProduct()">Novo Produto</button>
    </div>
    <section class="mt-3" *ngIf="isProductCreate">
      <form [formGroup]="formPriceGroup">
        <div class="col-12">
          <label for="name" class="form-label">Nome:</label>
          <input
            class="form-control"
            type="text"
            id="name"
            formControlName="name"
            placeholder="Geladeira"
          >
        </div>
        <div class="d-flex justify-content-between">
          <div class="col-3">
            <label for="code" class="form-label">Código:</label>
            <input
              class="form-control"
              type="text"
              id="code"
              formControlName="code"
              placeholder="000000"
            >
          </div>
          <div class="col-3">
            <label for="category" class="form-label">Categoria:</label>
            <!-- <select
              type="text"
              id="category"
              formControlName=""
              placeholder="Refrigerador"
            >

            </select> -->

            <select name="flag" id="flag" class="form-select" required>
              <option *ngFor="let category of formPriceGroup.controls['categories'].value; let i = index">{{category.name}}</option>
            </select>
          </div>
          <div class="col-3">
            <label for="cust" class="form-label">Categoria de precificação:</label>
            <input
              class="form-control"
              type="text"
              id="cust"
              formControlName=""
              placeholder="R$ 100,00"
            >
          </div>
        </div>
        <div class="col-12">
          <label for="manufacturer" class="form-label">Fabricante:</label>
          <input
            class="form-control"
            type="text"
            id="manufacturer"
            formControlName=""
            placeholder="Produtos genéricos LTDA"
          >
          <!-- <select id="status" class="form-select" formControlName="">
            <option [ngValue]="" >Selecione</option>
            <option [ngValue]="" >Ativo</option>
            <option [ngValue]="" >Inativo</option>
          </select> -->
        </div>
        <button
          class="btn btn-outline-success mt-2"
          (click)="createProduct(formPriceGroup)"
          > Salvar
        </button>
      </form>
    </section>
  </ng-container>

  <ng-container *ngFor="let priceGroup of formPriceGroupList; let i = index">
    <form [formGroup]="priceGroup">
      <section class="mt-2 d-flex justify-content-between">
        <div>
          <!-- <label for="name" class="form-label"></label> -->
          <input
          type="text"
          id="name"
          formControlName="name"
          [ngClass]="priceGroup.controls['productEdit'].value? 'form-control': 'form-control-plaintext'">
        </div>
        <div class="d-flex gap">
          <button *ngIf="priceGroup.controls['cardFlagEdit'].value" class="btn btn-outline-success" (click)="updateProduct(priceGroup)">Salvar</button>
          <button class="btn btn-outline-warning" (click)="editProduct(i)">Editar</button>
          <button class="btn btn-outline-danger" (click)="deleteProduct(priceGroup)">Remover</button>
        </div>
      </section>
    </form>
  </ng-container>
</div>

