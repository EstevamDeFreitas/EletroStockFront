<div>
  <ng-container>
    <div class="d-flex justify-content-between">
      <h3>Cupons</h3>
      <button class="btn btn-outline-success" (click)="newCupom()">Novo Cupom</button>
    </div>
    <section class="mt-3" *ngIf="isCupomCreate">
      <form class="d-flex justify-content-between flex-column" [formGroup]="formCupom">
        <div class="d-flex column-gap">
          <div class="gap col-4">
            <label for="name" class="form-label">Nome:</label>
            <input
              class="form-control"
              type="text"
              id="name"
              formControlName="name"
            >
          </div>
          <div class="gap col-3">
            <label for="validity" class="form-label">Validade</label>
            <input
              class="form-control"
              type="text"
              id="validity"
              formControlName="validity"
              placeholder="yyyy-MM-dd"
            >
          </div>
          <div class="gap col-2">
            <label for="value" class="form-label">Desconto</label>
            <input
              class="form-control"
              type="text"
              id="value"
              formControlName="value"
              placeholder="00%"
            >
          </div>
        </div>
        <div class="d-flex column-gap">
          <!-- <div class="gap col-4">
            <label for="couponType" class="form-label">Descrição</label>
            <input
              class="form-control"
              type="text"
              id="couponType"
              formControlName="couponType"
            >
          </div> -->
          <button
            class="btn btn-outline-success btn-width"
            (click)="createCupom(formCupom)"
            > Salvar
          </button>
        </div>
      </form>
    </section>
  </ng-container>
  <ng-container *ngFor="let cumpom of formCupomList; let i = index">
    <div>
      <form [formGroup]="cumpom">
        <section class="mt-2 d-flex justify-content-between colunm-gap">
          <div class="col-4">
            <label for="name" class="form-label"></label>
            <input
            type="text"
            id="name"
            formControlName="name"
            [ngClass]="cumpom.controls['isCupomEdit'].value? 'form-control': 'form-control-plaintext'">
          </div>
          <!-- <div class="gap col-4">
            <label for="couponType" class="form-label">Descrição</label>
            <input
              [ngClass]="cumpom.controls['isCupomEdit'].value? 'form-control': 'form-control-plaintext'"
              type="text"
              id="couponType"
              formControlName="couponType"
            >
          </div> -->
          <div class="gap col-3">
            <label for="validity" class="form-label">Validade</label>
            <input
              [ngClass]="cumpom.controls['isCupomEdit'].value? 'form-control': 'form-control-plaintext'"
              type="text"
              id="validity"
              formControlName="validity"
            >
          </div>
          <div class="gap col-2">
            <label for="value" class="form-label">Desconto</label>
            <input
              [ngClass]="cumpom.controls['isCupomEdit'].value? 'form-control': 'form-control-plaintext'"
              type="text"
              id="value"
              formControlName="value"
              placeholder="00 %"
            >
          </div>
          <div class="d-flex gap">
            <button *ngIf="cumpom.controls['isCupomEdit'].value" class="btn btn-outline-success" (click)="updateCupom(cumpom)">Salvar</button>
            <button class="btn btn-width btn-outline-warning" (click)="editCupom(i)">Editar</button>
            <button class="btn btn-width btn-outline-danger" (click)="deleteCupom(cumpom)">Remover</button>
          </div>
        </section>
      </form>
    </div>
  </ng-container>
</div>

